$(function(){var e={init:function(){setTimeout(scrollTo,0,0,0),$("[m-role='UISearchBar']").UISearchBar(),$("[m-role='UIToolBar']").UIToolBar(),$("[m-role='UINavigationBar']").UINavigationBar(),$("[m-role='UIBottomBar']").UIBottomBar(),$("[m-role='UISwitch']").UISwitch(),$("[m-role='UIRadio']").UIRadio(),$("[m-role='UICheckBox']").UICheckBox(),$("[m-role='UISelectField']").UISelectField(),$("[m-role='UITextField']").UITextField(),$("[m-role='UITextarea']").UITextarea(),$("[m-role='UIDateField']").UIDateField(),$("[m-role='UICalendarField']").UICalendarField(),$("[m-role='UIFontSize']").UIFontSize(),$("[m-role='UITip']").UITip(),$("[m-role='UITableView']").UITableView(),$("[m-role='UICollapsible']").UICollapsible(),$("[m-role='UISegment']").UISegment(),$("[m-role='UIPercentBar']").UIPercentBar(),$("[m-role='UIPageControl']").UIPageControl(),$("[m-role='UIScrollView']").UIScrollView(),$("[m-role='UISelectMenu']").UISelectMenu(),$("[m-role='UIGallery']").UIGallery(),$("[m-role='UIGrid']").UIGrid();var e=["[m-role='UIButton']:not([m-selectionstyle='no'])","[m-role='UITableView']:not([m-style='grouped']) dd:not([m-selectionstyle='no'])","[m-selectionstyle='yes']","[m-role='UIGallery'] li .UIGalleryImgWrap",".UITableViewArrowButton"].join(",");$(document).UISelectionStyle({selector:e})}};e.init()}),$.extend({t:{UIDelete:"删除",UISubmit:"确定",UISearch:"搜索",UISearchLoading:"搜索中..",UIComplete:"完成",UIClear:"清除",UICancel:"取消",UIDay:"日",UIWeek:"周",UIYear:"年",UIMonth:"月",UIHour:"时",UIMinute:"分",UINumber:["一","二","三","四","五","六","七","八","九","十"]},html5Draw:{color:{red:"rgb(255,0,0)",green:"rgb(0,255,0)",blue:"rgb(0,0,255)",black:"rgb(0,0,0)"},context:{width:{},height:{},cvs:{},ctx:{},type:{},rect:{x:{},y:{},width:{},height:{}},line:{x1:{},y1:{},x2:{},y2:{}},bz2:{startX:{},stratY:{},cpX:{},cpY:{},endX:{},endY:{}},bz3:{startX:{},stratY:{},cpX:{},cpY:{},cp2X:{},cp2Y:{},endX:{},endY:{}},sharps:{},fill:function(e){this.ctx.save(),e!=null&&(e.color!=null&&(this.ctx.fillStyle=e.color),e.shadow!=null&&(this.ctx.shadowBlur=e.shadow.blur,this.ctx.shadowColor=e.shadow.color,this.ctx.shadowOffsetX=e.shadow.offsetX,this.ctx.shadowOffsetY=e.shadow.offsetY)),this.type==="rect"&&(this.ctx.fillRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height),this.ctx.restore());if(this.type==="circle"||this.type==="sector")this.ctx.fill(),this.ctx.restore();return this},stroke:function(e){this.ctx.lineWidth=1,e!=null&&(e.color!=null&&(this.ctx.strokeStyle=e.color),e.lineWidth!=null&&(this.ctx.lineWidth=e.lineWidth),e.shadow!=null&&(this.ctx.shadowBlur=e.shadow.blur,this.ctx.shadowColor=e.shadow.color,this.ctx.shadowOffsetX=e.shadow.offsetX,this.ctx.shadowOffsetY=e.shadow.offsetY)),this.type==="rect"&&(this.ctx.strokeRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height),this.ctx.restore());if(this.type==="circle"||this.type==="sector")this.ctx.stroke(),this.ctx.restore();return this.type==="line"&&(this.ctx.beginPath(),this.ctx.moveTo(this.line.x1,this.line.y1),this.ctx.lineTo(this.line.x2,this.line.y2),this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()),this.type==="bz2"&&(this.ctx.beginPath(),this.ctx.moveTo(this.bz2.startX,this.bz2.startY),this.ctx.quadraticCurveTo(this.bz2.cpX,this.bz2.cpY,this.bz2.endX,this.bz2.endY),this.ctx.stroke(),this.ctx.restore()),this.type==="bz3"&&(this.ctx.beginPath(),this.ctx.moveTo(this.bz3.startX,this.bz3.startY),this.ctx.bezierCurveTo(this.bz3.cpX,this.bz3.cpY,this.bz3.cp2X,this.bz3.cp2Y,this.bz3.endX,this.bz3.endY),this.ctx.stroke(),this.ctx.restore()),this},drawRect:function(e,t,n,r){return this.rect.x=e,this.rect.y=t,this.rect.width=n,this.rect.height=r,this.type="rect",this},drawLine:function(e,t,n,r){return this.line.x1=e,this.line.y1=t,this.line.x2=n,this.line.y2=r,this.type="line",this},drawCircle:function(e,t,n){return this.ctx.beginPath(),this.ctx.lineWidth=1,this.ctx.arc(arguments[0],arguments[1],arguments[2],0,Math.PI*2,!1),this.ctx.closePath(),this.type="circle",this},drawSector:function(e,t,n,r,i,s){return this.ctx.beginPath(),this.ctx.moveTo(arguments[0],arguments[1]),this.ctx.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),this.ctx.closePath(),this.type="sector",this},drawBz2:function(e,t,n,r,i,s){return this.bz2.startX=e,this.bz2.startY=t,this.bz2.cpX=n,this.bz2.cpY=r,this.bz2.endX=i,this.bz2.endY=s,this.type="bz2",this},drawBz3:function(e,t,n,r,i,s,o,u){return this.bz3.startX=e,this.bz3.startY=t,this.bz3.cpX=n,this.bz3.cpY=r,this.bz3.cp2X=i,this.bz3.cp2Y=s,this.bz3.endX=o,this.bz3.endY=u,this.type="bz3",this},drawText:function(e){e.textBaseLine!=null&&(this.ctx.textBaseline=e.textBaseLine),e.textAlign!=null&&(this.ctx.textAlign=e.textAlign);if(e.font!=null){var t="";e.font.fontWeight!=null&&(t=e.font.fontWeight+" "),e.font.fontStyle!=null&&(t+=e.font.fontStyle+" "),e.font.fontSize!=null&&(t+=e.font.fontSize+"px "),e.font.fontFace==null&&(e.font.fontFace="serif"),e.font.fontFace!=null&&(t+=e.font.fontFace),this.ctx.font=t}e.type!=null&&(e.type==="fill"&&(this.ctx.fillStyle=e.color!=null?e.color:"rgb(0,0,0)",this.ctx.fillText(e.message,e.xPos,e.yPos)),e.type==="stroke"&&(this.ctx.strokeStyle=e.color!=null?e.color:"rgb(0,0,0)",this.ctx.strokeText(e.message,e.xPos,e.yPos)),e.type==="both"&&(this.ctx.fillStyle(e.color!=null?e.color:"rgb(0,0,0)"),this.ctx.fillText(e.message,e.xPos,e.yPos),this.ctx.strokeStyle(e.color!=null?e.color:"rgb(0,0,0)"),this.ctx.strokeText(e.message,e.xPos,e.yPos)))},clear:function(e,t,n,r){arguments.length==0?this.ctx.clearRect(0,0,this.cvs.width(),this.cvs.height()):arguments.length==4&&this.ctx.clearRect(arguments[0],arguments[1],arguments[2],arguments[3])}},draw2d:function(e){var t=$(e),n=t[0].getContext("2d");return $.html5Draw.context.ctx=n,$.html5Draw.context.cvs=t,$.html5Draw.context.width=t.width,$.html5Draw.context.height=t.height,$.html5Draw.context},draw2dRadius:function(e){return e*(Math.PI/180)}},jsUrl:"../js/global/",cssUrl:"../css/",jsCssLoader:function(e,t){function a(e){return $("link[href='"+e+"'],script[src='"+e+"']").size()>0?!0:!1}var n={links:[],scripts:[]};$.extend(n,e);var r=this,i=n.links.length,s=n.scripts.length,o=0,u=0;$.each(n.links,function(e){if(a(n.links[e])==0){var t=document.createElement("link");t.href=n.links[e],t.rel="stylesheet",t.type="text/css",t.setAttribute("tag_complete","no"),document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete")this.onreadystatechange=null,t.setAttribute("tag_complete","yes")}:t.onload?t.onload=function(){t.setAttribute("tag_complete","yes")}:t.setAttribute("tag_complete","yes")}else $("link[href='"+n.links[e]+"']:not([tag_complete])").size()>0&&i--}),$.each(n.scripts,function(e){if(a(n.scripts[e])==0){var t=document.createElement("script");t.src=n.scripts[e],t.type="text/javascript",t.setAttribute("tag_complete","no"),document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete")this.onreadystatechange=null,t.setAttribute("tag_complete","yes")}:t.onload=function(){t.setAttribute("tag_complete","yes")}}else $("script[src='"+n.scripts[e]+"']:not([tag_complete])").size()>0&&s--});var f=setInterval(function(){$.each(n.links,function(e){$("link[href='"+n.links[e]+"'][tag_complete]").attr("tag_complete")=="yes"&&o++}),$.each(n.scripts,function(e){$("script[src='"+n.scripts[e]+"'][tag_complete]").attr("tag_complete")=="yes"&&u++}),o>=i&&u>=s&&(clearInterval(f),t&&t.call(r))},1e3)},getRandom:function(){var e=new Date;return e.getTime()+parseInt(Math.random()*100,10)},trimDeep:function(e){return e+="",e!=""&&(e=$.trim(e.replace(/  */g,""))),e},UILoading:function(){var e=arguments,t={self:"[m-role='UILoading']"},n={_init:function(){n._events()},_events:function(){setTimeout(function(){$(t.self).bind("scrollstart",function(){return!1})},300)},_html:function(){return['<div m-role="UILoading">','<div class="UILoadingContent">','<canvas id="UILoadingContentCanvas" style=\'zoom:0.5\' width="80" height="80"></canvas>','<div class="UILoadingContentText"></div>',"</div>","</div>"].join("")},_fn:{_html:function(){$(t.self).size()==0&&$("body").append(n._html())},_canvas:function(){clearInterval(window.LoadingCanvas);var e=[0,10,20,30,40,50,60,70,80,90],t=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1],n=$.html5Draw.draw2d("#UILoadingContentCanvas");window.LoadingCanvas=setInterval(function(){n.clear(),n.drawCircle(40,40,28).stroke({color:"#666",lineWidth:8});for(var r=0;r<10;r++){e[r]==360&&(e[r]=0);var i=28*Math.cos(e[r]*Math.PI/180)+40,s=28*Math.sin(e[r]*Math.PI/180)+40;n.drawCircle(i,s,6).fill({color:"rgba(0,180,255,"+t[r]+")",shadow:{}}),e[r]+=10}},23)}}};n._init();var r={show:function(){var e=arguments[0];n._fn._html(),$(".UILoadingContent").css("opacity","0"),n._fn._canvas(),$(t.self).find(".UILoadingContentText").html(e[1]||""),$(t.self).removeClass("UILoadingMin"),$(t.self).show(),$(".UILoadingContent").animate({opacity:1},200)},showMin:function(){var e=arguments[0];n._fn._html(),$(t.self).addClass("UILoadingMin"),$(t.self).find(".UILoadingContentText").html(e[1]||""),$(t.self).show()},hide:function(){var e=arguments[0],n=this;$(t.self).hide(),setTimeout(function(){$(t.self).remove()},500),e[1]&&e[1].call(n)}};r[e[0]](e)},UIPullDown:function(e){var t=this;$(document).bind("scroll.UIDragDown ",function(){var n=$(document).scrollTop(),r=$(document).height()-$(window).height();n==r&&e&&e.call(t)})},UIPullUp:function(e){var t=this;$(document).bind("scroll.UIPullUp ",function(){var n=$(this).scrollTop();n-5<=0&&e&&e.call(t)})},UIPopupTimer:1e3,UIPopup:function(e,t){var n=this,r={html:"",timer:$.UIPopupTimer};typeof e=="string"||$.isArray(e)?r.html=e:$.extend(r,e),$("body").append('<div m-role="UIPopup">'+r.html+"</div>");var i=$("[m-role='UIPopup']"),s=-i.outerWidth()/2,o=-i.outerHeight()/2;i.css({"margin-left":s,"margin-top":o,top:"50%",left:"50%"}),i.animate({opacity:1},200).delay(r.timer).animate({opacity:0},200,function(){$(this).remove(),t&&t.call(n)})},UIConfirm:function(e,t){$.UIComfirm(e,t)},UIComfirm:function(e,t){function f(){s.hide(),setTimeout(function(){s.remove()},200)}var n=this;if($("[m-role='UIComfirm']").size()>0)return;var r={html:"",submitText:$.t.UISubmit,submitStyle:"style-4",cancelText:$.t.UICancel,cancelStyle:"style-1"};typeof e=="string"?r.html=e:$.extend(r,e);var i=['<div m-role="UIComfirm">','<div class="UIComfirmContent">','<div m-role="cell" m-mode="y">','<div m-role="cell" class="UIComfirmContentHtml">',r.html,"</div>",'<div m-role="cell" m-mode="x-equal">','<div m-role="cell" m-layout="fit">','<div m-role="UIButton" m-style="'+r.submitStyle+'" m-size="min" m-layout="fit" class="UIComfirmSubmit">'+r.submitText+"</div>","</div>",'<div m-role="cell" m-layout="fit">','<div m-role="UIButton" m-style="'+r.cancelStyle+'" m-size="min" m-layout="fit" class="UIComfirmCancel">'+r.cancelText+"</div>","</div>","</div>","</div>","</div>","</div>"].join("");$("body").append(i);var s=$("[m-role='UIComfirm']"),o=$(".UIComfirmContent"),u=-o.outerWidth()/2,a=-o.outerHeight()/2;o.css({"margin-left":u,"margin-top":a,top:"50%",left:"50%"}),setTimeout(function(){o.bind("scrollstart",function(){return!1})},300),$(".UIComfirmSubmit").bind("tap",function(){return t&&t.call(n,"yes"),f(),!1}),$(".UIComfirmCancel").bind("tap",function(){return t&&t.call(n,"no"),f(),!1})},UIAlert:function(e,t){function f(){s.hide(),setTimeout(function(){s.remove()},200)}var n=this;if($("[m-role='UIAlert']").size()>0)return;var r={html:"",buttonText:$.t.UISubmit,buttonStyle:"style-4"};typeof e=="string"?r.html=e:$.extend(r,e);var i=['<div m-role="UIAlert">','<div class="UIAlertContent">','<div m-role="cell" m-mode="y">','<div m-role="cell" class="UIAlertContentHtml">',r.html,"</div>",'<div m-role="cell">','<div m-role="UIButton" m-style="'+r.buttonStyle+'" m-size="min" m-layout="fit" class="UIAlertSubmit">'+r.buttonText+"</div>","</div>","</div>","</div>","</div>"].join("");$("body").append(i);var s=$("[m-role='UIAlert']"),o=$(".UIAlertContent"),u=-o.outerWidth()/2,a=-o.outerHeight()/2;o.css({"margin-left":u,"margin-top":a,top:"50%",left:"50%"}),$(".UIAlertSubmit").bind("tap",function(){return t&&t.call(n,"yes"),f(),!1})},UIWindow:function(){var e=arguments,t={width:400,height:300,html:"",aftershow:function(){},afterhide:function(){}},n={self:"[m-role='UIWindow']"},r={_init:function(){r._events()},_events:function(){setTimeout(function(){$(n.self).bind("scrollstart",function(){return!1})},300)},_html:function(){return['<div m-role="UIWindow">','<div class="UIWindowContent"></div>',"</div>"].join("")},_fn:{_html:function(){$(n.self).size()==0&&$("body").append(r._html())}}};r._init();var i={show:function(){var e=arguments[0];$.extend(t,e[1]);var i=this;r._fn._html();var s=$(".UIWindowContent"),o=-t.width/2,u=-t.height/2;s.css({width:t.width,height:t.height,"margin-left":o,"margin-top":u,top:"50%",left:"50%"}),$(n.self).animate({opacity:1},200,function(){$(n.self).find(".UIWindowContent").html(t.html||""),$(n.self).show(),t.aftershow&&t.aftershow.call(i)})},hide:function(){var e=this;$(n.self).animate({opacity:0},200,function(){$(n.self).hide(),setTimeout(function(){$(n.self).remove()},200),t.afterhide&&t.afterhide.call(e)})}};i[e[0]](e)},UIBubble:function(){var e=arguments,t={self:"[m-role='UIBubble']"},n={etarget:$("body"),width:100,height:200,html:"",aftershow:function(){},afterhide:function(){}},r={_init:function(){r._events()},_events:function(){$(window).bind("resize",function(){r._fn._set_pos()})},_html:function(e){return['<div m-role="UIBubble" >','<div class="UIBubbleContent">'+e+"</div>",'<div m-icon="arrowbubble"></div>',"</div>"].join("")},_fn:{_html:function(e){$(t.self).size()==0&&$("body").append(r._html(e))},_set_pos:function(){n.width=parseInt(n.width,10),n.height=parseInt(n.height,10);var e=n.etarget.offset(),r=$(t.self).find(">[m-icon='arrowbubble']"),i=n.etarget.outerWidth(),s=n.etarget.outerHeight(),o=r.outerHeight(),u=e.left+(i-n.width)/2,a=e.top+o+s,f=n.width/2,l=$(window).width(),c=$(window).height();e.top-$(document).scrollTop()>c/2?$(t.self).addClass("UIBubbleDown"):$(t.self).removeClass("UIBubbleDown"),u<=0&&(u=5,f=i/2+e.left),u+n.width>l&&(u=l-n.width-5,f=e.left+i/2-u),$(t.self).hasClass("UIBubbleDown")&&(a=a-s-2*o-n.height),$(t.self).css({left:u,top:a}),r.css({left:f})}}};r._init();var i={show:function(){var e=arguments[0];$.extend(n,e[1]);if($("[m-role='UIBubble']").size()>0)return;r._fn._html(n.html),$(t.self).css({width:n.width,height:n.height}),r._fn._set_pos(),$(t.self).animate({opacity:1},100,function(){$(t.self).show(),n.aftershow&&n.aftershow.call(this)}),setTimeout(function(){$(document).one("vmousedown.UIBubble",function(){$.UIBubble("hide",function(){n.afterhide&&n.afterhide.call(this)})})},500),$(t.self).bind("vmousedown.UIBubble",function(){return!1});var i=["[m-role='UIButton']:not([m-selectionstyle='no'])","[m-role='UITableView'] dd:not([m-selectionstyle='no'])",".UIKeyboardKey>li:not([m-selectionstyle='no'])",".UIKeyboardKeySubmit",".UIKeyboardKeyCancel",".UIKeyboardKeyClear",".UIKeyboardKeyBackspace",".UISelectMenuView ul li"].join(",");$(t.self).UISelectionStyle({selector:i})},hide:function(){var e=arguments[0],n=this;$(t.self).attr("m-show","no"),$(t.self).animate({opacity:0},100,function(){$(t.self).hide(),setTimeout(function(){$(t.self).remove()},200),e[1]&&e[1].call(n)}),$(document).unbind("vmousedown.UIBubble")}};i[e[0]](e)}}),$.fn.extend({UICountdown:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UICountdown")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{time:5,afterStop:function(){}},_private:{_init:function(){$.extend(o.settings,e),$(t).html(o.settings.time),o._private._fn._settings_time=o.settings.time,o._private._events()},_events:function(){},_html:{},_fn:{_cd:function(){o._private._fn._cd_timer=setTimeout(function(){$(t).text(--o._private._fn._settings_time);if(o._private._fn._settings_time<=0){o.settings.afterStop&&o.settings.afterStop.call(t);return}o._private._fn._cd()},1e3)}}},"public":{start:function(){o._private._fn._cd()},pause:function(){},stop:function(){},clear:function(){clearTimeout(o._private._fn._cd_timer)},destroy:function(){$(t).removeData("UICountdown")}}};o._private._init(),delete o.settings.data,$(t).data("UICountdown",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UICountdown");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIGrid:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIGrid")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).find("table").width("100%").wrap('<div class="UIGridBody"></div>');var n=$(t).find(".UIGridBody"),r=$(t).attr("m-col").split(","),i=0;n.find("tr:first-child th").each(function(e){var t=parseInt(r[e]),s="left",o="middle",u="";r[e].indexOf("right")>0&&(s="right"),r[e].indexOf("center")>0&&(s="center"),r[e].indexOf("top")>0&&(o="top"),r[e].indexOf("bottom")>0&&(o="bottom"),r[e].indexOf("fix-start")>0&&(u="UIGridFixedStart"),r[e].indexOf("fix-end")>0&&(u="UIGridFixedEnd"),$(this).width(t),n.find("tbody tr :nth-child("+(e+1)+")").css({"text-align":s,"vertical-align":o}).addClass(u),n.find("thead tr :nth-child("+(e+1)+")").addClass(u),i=i+t+parseInt($(this).css("padding-left"))+parseInt($(this).css("padding-right"))}),n.find("td,th").each(function(){$(this).width($(this).width()),$(this).height($(this).height())}),$(t).attr("m-scrollbar","no"),o._private._fn._scroll_x=i;var s=n.clone();s.find("table").width("auto"),n.find("tbody tr").prepend("<td>&nbsp;</td>"),n.find("tbody tr").append("<td>&nbsp;</td>"),n.find("thead tr").prepend("<th >&nbsp;</th>"),n.find("thead tr").append("<th >&nbsp;</th>"),o._private._fn._layout(),$(t).attr("m-scrollx",i),$(t).UIScrollView(),n.find(".UIGridFixedStart,.UIGridFixedEnd").html(""),n.clone().removeClass("UIGridBody").addClass("UIGridHead").appendTo($(t)),$(t).find(".UIGridHead tbody").remove();var u=$(t).find(".UIGridHead"),a=u.outerHeight();o._private._fn._th_height=a,s.clone().removeClass("UIGridBody").addClass("UIGridFixStartBody").appendTo($(t));var f=$(t).find(".UIGridFixStartBody");f.find("tr :not(.UIGridFixedStart)").remove(),f.clone().removeClass("UIGridFixStartBody").addClass("UIGridFixStartHead").appendTo($(t));var l=$(t).find(".UIGridFixStartHead");l.find("tbody").remove(),f.css("top",a),f.find("table").css("margin-top",-a),s.clone().removeClass("UIGridBody").addClass("UIGridFixEndBody").appendTo($(t));var c=$(t).find(".UIGridFixEndBody");c.find("tr :not(.UIGridFixedEnd)").remove(),c.clone().removeClass("UIGridFixEndBody").addClass("UIGridFixEndHead").appendTo($(t));var h=$(t).find(".UIGridFixEndHead");h.find("tbody").remove(),c.css("top",a),c.find("table").css("margin-top",-a),$(t).attr("m-placeholder")&&setTimeout(function(){$(t).append(o._private._html._holder())},1e3);var p=n.height()-parseInt($(t).attr("m-height"));p<=0&&$(t).find("table tr:last-child td").css("padding-bottom","+="+(Math.abs(p)+1)),o._private._events()},_events:function(){function u(){i.css({left:this.x}),n.css({top:this.y+s}),r.css({top:this.y+s})}var e=$(t).find(".UIGridBody").parent(".UIScrollViewScroller"),n=$(t).find(".UIGridFixStartBody"),r=$(t).find(".UIGridFixEndBody"),i=$(t).find(".UIGridHead"),s=o._private._fn._th_height;$(t).UIScrollView("scrollMove",u),$(t).UIScrollView("scrollEnd",u),$(window).bind("resize",function(){$(t).css("width","auto"),setTimeout(function(){o._private._fn._layout()},200)})},_html:{_holder:function(){return'<div class="UIGridPlaceholder">'+$(t).attr("m-placeholder")+"</div>"}},_fn:{_th_height:0,_scroll_x:0,_layout:function(){var e=o._private._fn._scroll_x,n=parseInt($(t).attr("m-width"))||$(t).width();$(t).css({width:n,height:$(t).attr("m-height")});var r=$(t).find(".UIGridBody"),i=$(t).find(".UIGridHead"),s=e+n*2;r.width(s),i.width(s),r.find("thead tr th:first-child,thead tr th:last-child").css({width:n,"padding-left":0,"padding-right":0}),i.find("thead tr th:first-child,thead tr th:last-child").css({width:n,"padding-left":0,"padding-right":0}),r.css("margin-left",-n),i.css("margin-left",-n)}}},"public":{destroy:function(){$(t).removeData("UIGrid")}}};o._private._init(),delete o.settings.data,$(t).data("UIGrid",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIGrid");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIKeyboard:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIKeyboard")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{leftButton:"",rightButton:"",type:"number"},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._text()),$(t).find(".UIKeyboardText").html($(t).attr("m-value")),o._private._events()},_events:function(){$(t).bind("tap.UIKeyboard",function(){return $(t).addClass("UIKeyboardOn"),$.UIBubble("show",{etarget:$(this),width:304,height:168,html:o._private._html._keyboard(),afterhide:function(){o._private._fn._hide()}}),$(".UIKeyboardView>.UIKeyboardKey>li:not([m-selectionstyle='no'])").unbind().bind("tap.UIKeyboard",function(){var e=$(this).text(),n=$(t).attr("m-value")||"";return n=o._private._fn._check(e,n),o._private._fn._set_val(n),!1}),$(".UIKeyboardKeySubmit,.UIKeyboardKeyCancel").unbind().bind("tap.UIKeyboard",function(){return o._private._fn._hide(),!1}),$(".UIKeyboardKeyClear").unbind().bind("tap.UIKeyboard",function(){return o._private._fn._set_val(""),!1}),$(".UIKeyboardKeyBackspace").unbind().bind("tap.UIKeyboard",function(){var e=$(t).attr("m-value")||"";if(e=="")return;return e=e.substring(0,e.length-1),o._private._fn._set_val(e),!1}),!1})},_html:{_text:function(){return'<span class="UIKeyboardText"></span>'},_keyboard:function(){var e="",t="",n='m-selectionstyle="no"';return o.settings.leftButton==""&&(e=n),o.settings.rightButton==""&&(t=n),o.settings,['<div class="UIKeyboardView"  >','<ul class="UIKeyboardKey">',"<li>1</li>","<li>2</li>","<li>3</li>","<li>4</li>","<li>5</li>","<li>6</li>","<li>7</li>","<li>8</li>","<li>9</li>","<li "+e+">"+o.settings.leftButton+"</li>","<li>0</li>","<li "+t+">"+o.settings.rightButton+"</li>","</ul>",'<div class="UIKeyboardKeySubmit" >'+$.t.UIComplete+"</div>",'<div class="UIKeyboardKeyCell" ></div>','<div class="UIKeyboardKeyClear" >'+$.t.UIClear+"</div>",'<div class="UIKeyboardKeyBackspace" ><div></div></div>',"</div>"].join("")}},_fn:{_hide:function(){$(t).removeClass("UIKeyboardOn"),$.UIBubble("hide",function(){var e=$(t).attr("m-value")||"";if(e=="")return;$(t).attr("m-tofixed")&&(e=parseFloat(e).toFixed($(t).attr("m-tofixed")||0)),o._private._fn._set_val(e)}),o.public.set_callback&&o.public.set_callback.call(t)},_check:function(e,n){o.settings.type=="money"&&(e=="."&&(n.indexOf(".")!=-1||n=="")&&(e=""),n.indexOf(".")!=-1&&n.split(".")[1].length>=$(t).attr("m-tofixed")&&(e=""),n.indexOf(".")!=-1&&n.split(".")[1].length==$(t).attr("m-tofixed")-1&&e=="00"&&(e="0"),n=="0"&&e!="."&&(n=""),n==""&&e=="00"&&(e="0")),n=n+e+"";var r=parseFloat($(t).attr("m-maxvalue")),i=n;return n!=""&&(i=parseFloat(i),i>r&&(n=r)),n},_set_val:function(e){function r(e,t,n,r){n||(n=","),t||(t=3),e=""+e;var i="(\\d{1,"+t+"})(?=(\\d{"+t+"})+(?:$|\\.))";r&&(i="((\\d{"+t+"})+?)");var s=new RegExp(i,"g"),o=e.replace(s,"$1"+n);return o}$(t).find("input").val(e);var n=o.settings.type=="money"?r(e):e;$(t).attr({"m-value":e,value:e});var i=$(t).find(".UIKeyboardText");i.html(n),o.settings.type=="password"&&(i.css({"font-size":"20px","line-height":"38px"}),o._private._fn._val2psw(i));var s=$(t).find("input");e!=""?s.hide():s.show(),o.public.change_callback&&o.public.change_callback.call(t,e)},_val2psw:function(e){var t=e.text().replace(/./g,"*");e.text(t)}}},"public":{destroy:function(){$(t).removeData("UIKeyboard")},set:function(){var e=arguments[0];o.public.set_callback=e[1]},change:function(){var e=arguments[0];o.public.change_callback=e[1]}}};o._private._init(),delete o.settings.data,$(t).data("UIKeyboard",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIKeyboard");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIGallery:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIGallery")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e);var n=$(t).find(">ul>li"),r=$(t).attr("m-item-width"),i=$(t).attr("m-item-height"),s=$(t).attr("m-image-width"),u=$(t).attr("m-image-height");n.find("img").wrap(o._private._html._img_wrap()),n.width(r),n.height(i),$(t).find(".UIGalleryImgWrap").css({width:s,height:u,"background-size":s+"px "+u+"px"}),setTimeout(function(){n.each(function(){var e=$(this).find("img"),t=e.attr("src");$(this).find(".UIGalleryImgWrap").css("background-image","url("+t+")")})},500),o._private._events()},_events:function(){},_html:{_img_wrap:function(){return'<div class="UIGalleryImgWrap"></div>'}},_fn:{}},"public":{destroy:function(){$(t).removeData("UIGallery")}}};o._private._init(),delete o.settings.data,$(t).data("UIGallery",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIGallery");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UISelectMenu:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISelectMenu")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).find("li[m-selected='yes']").size()==0&&$(t).find("li").first().attr("m-selected","yes");var n=$(t).find("[m-selected='yes']"),r=n.text();$(t).attr("m-value",n.attr("m-value")),$(t).html(o._private._html._self_html(r,$(t).html())),o._private._events()},_events:function(){var e=$(t).find(".UISelectMenuContent");$(t).bind("tap.UISelectMenu",function(){$.UIBubble("show",{etarget:$(t),width:$(t).attr("m-menu-width"),height:$(t).attr("m-menu-height"),html:o._private._html._menu(e.html())}),$(".UISelectMenuView").UIScrollView(),$(".UISelectMenuView ul li").bind("tap.UISelectMenu",function(){var n=this,r=e.find("[m-selected='yes']").attr("m-value");$(n).parent().find("li").removeAttr("m-selected"),$(n).attr("m-selected","yes");var i=$(".UISelectMenuView ul").html();return $.UIBubble("hide",function(){$(t).find(".UISelectMenuText").html($(n).text()),e.find("ul").html(i);var s=$(n).attr("m-value");$(t).attr("m-value",s),r!=s&&o.public.change_callback&&o.public.change_callback.call(n,s)}),!1})})},_html:{_menu:function(e,t){return['<div class="UISelectMenuView" m-scrollbar="yes" >',e,"</div>"].join("")},_self_html:function(e,t){return['<div class="UISelectMenuText">'+e+"</div>",'<div class="UISelectMenuContent">'+t+"</div>",'<div m-icon="arrowdown"></div>'].join("")}},_fn:{}},"public":{change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UISelectMenu")},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).attr("m-value")),n==2}}};o._private._init(),delete o.settings.data,$(t).data("UISelectMenu",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISelectMenu");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIScrollView:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIScrollView")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e);var n=$.getRandom();$(t).css("max-width",$(window).width());var r="c"+n+"Wrapper",i="c"+n+"Scroller";$(t).attr("id",r),$(t).wrapInner('<div class="UIScrollViewScroller"  id="'+i+'"></div>');var s=$(t).find(".UIScrollViewScroller");s.width($(t).attr("m-scrollx"));var u={scripts:[$.jsUrl+"iscroll5-min.js"]};$.jsCssLoader(u,function(){var e=!1;$(t).attr("m-freescroll")=="yes"&&(e=!0);var n=new IScroll("#"+r,{preventDefault:!1,scrollX:!0,scrollY:!0,scrollbars:"custom",probeType:3,mouseWheel:!0,interactiveScrollbars:!0,freeScroll:e});o.myScroll=n,n.on("scroll",function(){o.public.scrollMove_callback&&o.public.scrollMove_callback.call(this)}),n.on("scrollEnd",function(){o.public.scrollEnd_callback&&o.public.scrollEnd_callback.call(this)});var i=$(t).find(".iScrollVerticalScrollbar,.iScrollHorizontalScrollbar");i.css({opacity:1}),$(t).attr("m-scrollbar")!="yes"&&i.css({opacity:0}),o._private._events()})},_events:function(){$(t).bind("touchmove",function(e){e.preventDefault()})},_html:{},_fn:{}},myScroll:"","public":{scrollMove:function(){var e=arguments[0];o.public.scrollMove_callback=e[1]},scrollEnd:function(){var e=arguments[0];o.public.scrollEnd_callback=e[1]},refresh:function(){o.myScroll.refresh()},destroy:function(){$(t).removeData("UIScrollView")}}};o._private._init(),delete o.settings.data,$(t).data("UIScrollView",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIScrollView");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIPageControl:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIPageControl")==undefined){if(typeof e=="string")return;var i=$(t).attr("UIPageControl"),s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).attr("m-indicator")!="none"&&$(t).append(o._private._html._indicator()),setTimeout(function(){$(t).css("max-width",$(window).width()),o._private._events()},200)},_events:function(){var e=$(t).width(),n=$(t).find(">ul"),r=$(t).find(">ul>li"),i=$(t).find(".UIPageControlIndicator dd"),s=$(t).attr("m-item-width")||e,u=r.size();r.width(s),o._private._fn._current_index=$(t).attr("m-index")||0,i.eq(o._private._fn._current_index).addClass("UIPageControlIndicatorOn");var a=(e-s)/2,f=[];r.each(function(e){f.push(a-e*s)}),o._private._fn._pos=f,n.css("left",f[o._private._fn._current_index]),$(t).attr("m-autoplay")=="yes"&&o._private._fn._autoplay(),$(t).bind("vmousedown.UIPageControl",function(e){$(t).attr("m-autoplay")=="yes"&&(clearTimeout(o._private._fn._autoplay_timer),clearTimeout(o._private._fn._autoplay_timer_begin));var r={start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{coords:[t.pageX,t.pageY],origin:$(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{coords:[t.pageX,t.pageY]}}},i=parseInt(n.css("left"),10),a=r.start(e),l=!1,c=!1;$(document).bind("vmousemove.UIPageControl",function(e){var t=r.stop(e);Math.abs(a.coords[1]-t.coords[1])>10&&c==0&&(l=!0);if(Math.abs(a.coords[0]-t.coords[0])>5&&l==0){c=!0;var s=.8,o=n.position().left,u=(t.coords[0]-a.coords[0])*s;n.css("left",i+u),e.preventDefault()}}),$(document).one("vmouseup.UIPageControl",function(e){$(document).unbind("vmousemove.UIPageControl"),$(t).attr("m-autoplay")=="yes"&&(clearTimeout(o._private._fn._autoplay_timer),clearTimeout(o._private._fn._autoplay_timer_begin),o._private._fn._autoplay_timer_begin=setTimeout(function(){o._private._fn._autoplay()},1e3));var i=80,l=n.position().left;if(l>=f[0]){o._private._fn._flex(0);return}if(l<=f[u-1]){o._private._fn._flex(u-1);return}var c=o._private._fn._current_index,h=a.coords[0]-r.stop(e).coords[0];h>i&&(c=parseInt(o._private._fn._current_index)+1),h<-i&&(c=parseInt(o._private._fn._current_index)-1),o._private._fn._flex(c,s-Math.abs(h))})})},_html:{_indicator:function(){var e="";return $(t).find("ul>li").each(function(n){$(t).attr("m-indicator")=="number"?(n+=1,e=e+"<dd>"+n+"</dd>"):$(t).attr("m-indicator")=="text"?e=e+"<dd>"+$(this).attr("m-indicator-text")+"</dd>":e+="<dd></dd>"}),'<dl class="UIPageControlIndicator">'+e+"</dl>"}},_fn:{_current_index:0,_pos:[],_autoplay_d:1,_flex:function(e,n){var n=n||250,r=$(t).find(">ul"),i=$(t).find(".UIPageControlIndicator dd"),s=o._private._fn._current_index;o._private._fn._current_index=e,r.stop().animate({left:o._private._fn._pos[e]},n,function(){i.removeClass("UIPageControlIndicatorOn"),i.eq(e).addClass("UIPageControlIndicatorOn"),s!=e&&o.public.change_callback&&o.public.change_callback.call(this,e)})},_autoplay:function(){function r(){n==0&&(o._private._fn._autoplay_d=1),n==o._private._fn._pos.length-1&&(o._private._fn._autoplay_d=0)}var e=$(t).attr("m-timer")||2e3,n=parseInt(o._private._fn._current_index);r(),o._private._fn._autoplay_timer=setInterval(function(){o._private._fn._autoplay_d==1&&n++,o._private._fn._autoplay_d==0&&n--,r(),o._private._fn._flex(n)},parseInt(e,10))},_prev_page:function(){var e=parseInt(o._private._fn._current_index);if(e-1<0)return;o._private._fn._flex(e-1)},_next_page:function(){var e=parseInt(o._private._fn._current_index);if(e+1>o._private._fn._pos.length-1)return;o._private._fn._flex(e+1)}}},"public":{change:function(){var e=arguments
[0];o.public.change_callback=e[1]},prevPage:function(){o._private._fn._prev_page()},nextPage:function(){o._private._fn._next_page()},destroy:function(){$(t).removeData("UIPageControl")}}};o._private._init(),delete o.settings.data,$(t).data("UIPageControl",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIPageControl");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIPercentBar:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIPercentBar")==undefined){if(typeof e=="string")return;var i=$(t).attr("UIPercentBar"),s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).html(o._private._html._percent()),o._private._events()},_events:function(){$(t).bind("click",function(){o.public.demo_callback&&o.public.demo_callback.call(this)})},_html:{_percent:function(){return'<div class="UIPercentBarCon"><span>0%</span></div><span>0%</span>'}},_fn:{_set_num:function(e){function i(){setTimeout(function(){$(t).find("span").html(--n+r);if(n<=e){$(t).find("span").html(e+r);return}i()},10)}function s(){setTimeout(function(){$(t).find("span").html(++n+r);if(n>=e){$(t).find("span").html(e+r);return}s()},10)}var n=parseFloat($(t).find("span").html()),r="";(e+"").indexOf("%")!=-1&&(r="%"),e=parseFloat(e),$(t).find("span").html(e+r)}}},"public":{value:function(){var e=arguments[0];$(t).find(".UIPercentBarCon").stop().animate({width:e[1]},400),o._private._fn._set_num(e[1])},destroy:function(){$(t).removeData("UIPercentBar")}}};o._private._init(),delete o.settings.data,$(t).data("UIPercentBar",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIPercentBar");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UICheckBox:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UICheckBox")==undefined){if(typeof e=="string")return;var i=$(t).attr("m-name"),s={checkboxes:"[m-name='"+i+"']"},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),o._private._events()},_events:function(){$(t).bind("tap.UICheckBox",function(){$(this).attr("m-checked")=="yes"?$(this).removeAttr("m-checked"):$(this).attr("m-checked","yes")})},_html:{},_fn:{}},"public":{destroy:function(){$(t).removeData("UICheckBox")},value:function(){var e=[];$(s.checkboxes+"[m-checked='yes']").each(function(){e.push($(this).attr("m-value"))}),o.public.get_value=e}}};o._private._init(),delete o.settings.data,$(t).data("UICheckBox",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UICheckBox");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIRadio:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIRadio")==undefined){if(typeof e=="string")return;var i=$(t).attr("m-name"),s={radios:"[m-name='"+i+"']"},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),o._private._events()},_events:function(){$(t).bind("tap.UIRadio",function(){$(s.radios).removeAttr("m-checked"),$(this).attr("m-checked","yes")})},_html:{},_fn:{}},"public":{destroy:function(){$(t).removeData("UIRadio")},value:function(){o.public.get_value=$(s.radios+"[m-checked='yes']").attr("m-value")}}};o._private._init(),delete o.settings.data,$(t).data("UIRadio",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIRadio");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UICalendarField:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UICalendarField")==undefined){if(typeof e=="string")return;var i=$(t).attr("UICalendarField"),s={},o={settings:{theme:"ios",accent:" ",dateFormat:"yy-mm-dd",lang:"zh",display:"bubble",animate:" ",controls:["calendar"],marked:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._input());var n=$(t).attr("m-value")||$(t).attr("value");n==undefined&&(n=""),$(t).attr({"m-value":n,value:n}),$(t).find("input").val(n),$(t).attr("m-display")&&(o.settings.display=$(t).attr("m-display"));if($(t).attr("m-marked")){var r=$(t).attr("m-marked").split(","),i=[];$.each(r,function(e,t){t=t.split("-");var n=new Date(t[0],t[1]-1,t[2]);i.push(n)}),o.settings.marked={dates:i}}var s={links:[$.cssUrl+"mobiscroll.custom-2.5.0.min.css"],scripts:[$.jsUrl+"mobiscroll.calendarmarked-2.5.0.js"]};$.jsCssLoader(s,function(){$(t).mobiscroll().calendar(o.settings);var e=$(t).attr("m-today");$("[data-full='"+e+"']").addClass("UICalendarFieldToday"),o._private._events()})},_events:function(){$(t).on("input change keyup","input",function(){o._private._fn._change()}),$(document).on("tap.UICalendarField",".dw-calendar .dw-cal-day:has(.dw-cal-day-m)",function(){o.public.markTap_callback&&o.public.markTap_callback.call(this,$(t).attr("m-value"))})},_html:{_input:function(){return['<input type="text" value="'+($(t).attr("m-value")||"")+'" />','<div class="UICalendarFieldHandler"></div>','<div m-icon="calendar"></div>'].join("")}},_fn:{_change:function(){var e=$(t).find("input").val();o.public.change_callback&&o.public.change_callback.call(this,e),$(t).attr({"m-value":e,value:e})}}},"public":{destroy:function(){$(t).removeData("UICalendarField")},change:function(){var e=arguments[0];o.public.change_callback=e[1]},clear:function(){$(t).find("input").val(""),$(t).attr({"m-value":"",value:""})},markTap:function(){var e=arguments[0];o.public.markTap_callback=e[1]},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).find("input").val()),n==2&&($(t).find("input").val(e[1]),$(t).attr({"m-value":e[1],value:e[1]}),o._private._fn._change())}}};o._private._init(),delete o.settings.data,$(t).data("UICalendarField",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UICalendarField");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIDateField:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIDateField")==undefined){if(typeof e=="string")return;var i=$(t).attr("UIDateField"),s={},o={settings:{dateFormat:"yy-mm-dd",dateOrder:"yyMMdd",timeWheels:"HHii",timeFormat:"HH:ii",theme:"ios",setText:$.t.UIComplete,cancelText:$.t.UICancel,monthNames:["1"+$.t.UIMonth,"2"+$.t.UIMonth,"3"+$.t.UIMonth,"4"+$.t.UIMonth,"5"+$.t.UIMonth,"6"+$.t.UIMonth,"7"+$.t.UIMonth,"8"+$.t.UIMonth,"9"+$.t.UIMonth,"10"+$.t.UIMonth,"11"+$.t.UIMonth,"12"+$.t.UIMonth],dayNames:[$.t.UIWeek+$.t.UIDay,$.t.UIWeek+$.t.UINumber[0],$.t.UIWeek+$.t.UINumber[1],$.t.UIWeek+$.t.UINumber[2],$.t.UIWeek+$.t.UINumber[3],$.t.UIWeek+$.t.UINumber[4],$.t.UIWeek+$.t.UINumber[5]],dayUnit:$.t.UIDay,yearUnit:$.t.UIYear,mode:"scroller",display:"bubble",preset:"date",monthText:$.t.UIMonth,dayText:$.t.UIDay,yearText:$.t.UIYear,hourText:$.t.UIHour,minuteText:$.t.UIMinute,minDate:new Date((new Date).getFullYear(),0,0,0,0),maxDate:new Date((new Date).getFullYear()+10,0,0,0,0),stepMinute:1},_private:{_init:function(){$.extend(o.settings,e),$(window).width()<=400&&(o.settings.display="bottom"),$(t).append(o._private._html._input());var n=$(t).attr("m-value")||$(t).attr("value");n==undefined&&(n=""),$(t).attr({"m-value":n,value:n}),$(t).find("input").val(n);if($(t).attr("m-min")){var r=$(t).attr("m-min").split("-");o.settings.minDate=new Date(r[0],r[1]-1,r[2],0,0)}if($(t).attr("m-max")){var i=$(t).attr("m-max").split("-");o.settings.maxDate=new Date(i[0],i[1]-1,i[2],0,0)}$(t).attr("m-preset")&&(o.settings.preset=$(t).attr("m-preset"),o.settings.preset=="time"&&(o.settings.maxDate="",o.settings.minDate="")),$(t).attr("m-stepminute")&&(o.settings.stepMinute=parseInt($(t).attr("m-stepminute"),10));var s={links:[$.cssUrl+"mobiscroll.custom-2.5.0.min.css"],scripts:[$.jsUrl+"mobiscroll.datetime-2.5.0.js"]};$.jsCssLoader(s,function(){$(t).mobiscrollDatatime(o.settings),o._private._events()})},_events:function(){$(t).on("input change keyup","input",function(){o._private._fn._change()})},_html:{_input:function(){return['<input type="text" value="'+($(t).attr("m-value")||"")+'"  placeholder="'+($(t).attr("m-placeholder")||"")+'"/>','<div class="UIDateFieldHandler"></div>','<div m-icon="calendar"></div>'].join("")}},_fn:{_change:function(){var e=$(t).find("input").val();o.public.change_callback&&o.public.change_callback.call(this,e),$(t).attr({"m-value":e,value:e})}}},"public":{demo:function(){var e=arguments[0];o.public.demo_callback=e[1]},destroy:function(){$(t).removeData("UIDateField")},clear:function(){$(t).find("input").val(""),$(t).attr({"m-value":"",value:""})},change:function(){var e=arguments[0];o.public.change_callback=e[1]},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).find("input").val()),n==2&&($(t).find("input").val(e[1]),$(t).attr({"m-value":e[1],value:e[1]}),o._private._fn._change())}}};o._private._init(),delete o.settings.data,$(t).data("UIDateField",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIDateField");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UISelectionStyle:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISelectionStyle")==undefined){if(typeof e=="string")return;var i=$(t).attr("UISelectionStyle"),s={},o={settings:{selector:"dd:not([UISelectionStyle='no'])",data:{}},_private:{_init:function(){$.extend(o.settings,e),o._private._events()},_events:function(){var e,n="UISelectionStyle";$(t).on("vmousedown.UISelectionStyle",o.settings.selector,function(t){var r=$(this);if($(t.target).attr("m-icon")=="arrowbutton")return!1;e=setTimeout(function(){r.addClass(n)},30)}),$(t).on("vmousemove.UISelectionStyle vmouseup.UISelectionStyle",o.settings.selector,function(){clearTimeout(e),$(this).removeClass(n)}),$(t).on("tap.UISelectionStyle",o.settings.selector,function(){setTimeout(function(){$(this).removeClass(n)},10)})},_html:{},_fn:{}},"public":{destroy:function(){$(t).removeData("UISelectionStyle")}}};o._private._init(),delete o.settings.data,$(t).data("UISelectionStyle",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISelectionStyle");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UISwitch:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISwitch")==undefined){if(typeof e=="string")return;var i=$(t).attr("UISwitch"),s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e);var n=$(t).attr("m-value")||$(t).attr("value"),r=$(t).attr("m-on")||"",i=$(t).attr("m-off")||"";n==undefined&&(n=0),n=parseInt(n,10),$(t).find(".UISwitchHiddenInput").attr("name",$(t).attr("name")),$(t).attr({"m-value":n,value:n}),$(t).html(o._private._html._layout(r,i)),$(t).append(o._private._html._hidden_input(n));var s=1;n==1&&(s=0),o._private._fn._set_state(s,"init"),o._private._events()},_events:function(){function a(){return o._private._fn._set_state($(t).attr("m-value")),!1}var e=!1,n=$(t).find(".UISwitchButton"),r=$(t).find(".UISwitchOn"),i=$(t).find(".UISwitchOff"),s=$(t).width(),u=n.outerWidth();$(t).bind("tap.UISwitch",a),$(t).bind("vmousedown.UISwitch",function(f){var l={start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{coords:[t.pageX,t.pageY],origin:$(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{coords:[t.pageX,t.pageY]}}},c=l.start(f),h=!1,p=!1,d=parseInt(n.css("left"),10),v=r.width();$(document).bind("vmousemove.UISwitch",function(o){var f=l.stop(o);Math.abs(c.coords[1]-f.coords[1])>5&&p==0&&(h=!0);if(Math.abs(c.coords[0]-f.coords[0])>0&&h==0){p=!0,e=!0,$(t).unbind("tap.UISwitch",a);var m=f.coords[0]-c.coords[0],g=d+m;g>=1&&g<=s-u-1&&(n.css("left",g),v==0?(r.width(u+m),i.width(s-m)):(r.width(s+m),i.width(u-m))),o.preventDefault()}}),$(document).one("vmouseup.UISwitch",function(r){$(document).unbind("vmousemove.UISwitch");if(e==1){var i=parseInt(n.css("left"),10)+u/2;i>=s/2?o._private._fn._set_state(0):o._private._fn._set_state(1),setTimeout(function(){$(t).bind("tap.UISwitch",a)},200),e=!1}})})},_html:{_layout:function(e,t){return['<div class="UISwitchOn"><span>'+e+"</span></div>",'<div class="UISwitchOff"><span>'+t+"</span></div>",'<div class="UISwitchButton"></div>'].join("")},_hidden_input:function(e){return'<input class="UISwitchHiddenInput" type="hidden" value="'+e+'" />'}},_fn:{_set_state:function(e,n){var r=$(t).find(".UISwitchOn"),i=$(t).find(".UISwitchOff"),s=$(t).find(".UISwitchButton"),u=$(t).attr("m-value"),a=s.outerWidth(),f=$(t).width();e==0?($(document).bind("scrollstart.UISwitch",function(){return!1}),n!="init"?(r.stop().animate({width:"100%"},200),i.stop().animate({width:0},200),s.stop().animate({left:f-a-1},200,function(){$(document).unbind("scrollstart.UISwitch")})):(r.css({width:"100%"}),i.css({width:0}),s.css({left:f-a-1}),$(document).unbind("scrollstart.UISwitch")),$(t).find(".UISwitchHiddenInput").val(1),$(t).attr({"m-value":1,value:1})):($(document).bind("scrollstart.UISwitch",function(){return!1}),r.stop().animate({width:a},200,function(){$(this).width(0)}),i.stop().animate({width:"100%"},200),$(t).find(".UISwitchHiddenInput").val(0),$(t).attr({"m-value":0,value:0}),s.stop().animate({left:1},200,function(){$(document).unbind("scrollstart.UISwitch")})),u!=$(t).attr("m-value")&&n!="init"&&o.public.change_callback&&o.public.change_callback.call(this,$(t).attr("m-value"))}}},"public":{change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UISwitch")},state:function(){var e=arguments[0];if(e[1]=="on"){if($(t).attr("value")==1)return;var n=0}if(e[1]=="off"){if($(t).attr("value")==0)return;var n=1}o._private._fn._set_state(n)}}};o._private._init(),delete o.settings.data,$(t).data("UISwitch",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISwitch");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UICollapsible:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UICollapsible")==undefined){if(typeof e=="string")return;var i={settings:{data:{}},_private:{_init:function(){$.extend(i.settings,e),$(t).find(">ul>li>[m-role='title']").append(i._private._html._arrow()),i._private._events()},_events:function(){$(t).on("tap","[m-role='title']",function(){return $(this).next("[m-role='content']:hidden").size()==0?($(this).parents("li").removeAttr("m-active"),$(this).find(".UICollapsibleArrow").attr("m-icon","arrow")):($(t).find(">ul>li").removeAttr("m-active"),$(t).find(".UICollapsibleArrow").attr("m-icon","arrow"),$(this).parents("li").attr("m-active","yes"),$(this).find(".UICollapsibleArrow").attr("m-icon","arrowdown")),!1})},_fn:{},_html:{_arrow:function(){return'<div class="UICollapsibleArrow" m-icon="arrow" m-style="style-1"></div>'}}},"public":{destroy:function(){$(t).removeData("UICollapsible")},refresh:function(){$(t).find("li").each(function(){$(this).find(".UICollapsibleArrow").size()==0&&$(this).find(">[m-role='title']").append(i._private._html._arrow())})}}};i._private._init(),delete i.settings.data,$(t).data("UICollapsible",i)}else{if(typeof n[0]!="string")return;var i=$(t).data("UICollapsible");i.public[n[0]](n),r=i.public.get_value,i=undefined}});return r!=undefined&&(i=r),i},UISelectField:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISelectField")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._select_icon()),o._private._events()},_events:function(){$(t).on("change","select",function(){var e=$(t).find("select").val();o.public.change_callback&&o.public.change_callback.call(this,e)})},_fn:{},_html:{_select_icon:function(){return'<div m-icon="arrowdown"></div>'}}},"public":{change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UISelectField")},selectLimit:function(){},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).find("select").val()||""),n==2}}};o._private._init(),delete o.settings.data,$(t).data("UISelectField",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISelectField");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UITextField:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UITextField")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._input()),($(t).attr("m-type")=="search"||$(t).attr("m-type")=="autocomplete")&&$(t).append(o._private._html._search_icon());if($(t).attr("m-type")){var n=$(t).attr("m-type").split(",");n.length>1&&(n[0]=="number"&&$(t).UIKeyboard({leftButton:n[1]||"",rightButton:n[2]||""}),n[0]=="money"&&($(t).attr({"m-tofixed":$(t).attr("m-tofixed"),"m-maxvalue":$(t).attr("m-maxvalue")}),$(t).UIKeyboard({leftButton:n[1]||"",rightButton:n[2]||"",type:"money"})),n[0]=="password"&&($(t).attr({"m-tofixed":$(t).attr("m-tofixed"),"m-maxvalue":$(t).attr("m-maxvalue")}),$(t).UIKeyboard({leftButton:n[1]||"",rightButton:n[2]||"",type:"password"})),$(t).UIKeyboard("set",function(){o.public.blur_callback&&o.public.blur_callback.call(t)}),$(t).UIKeyboard("change",function(e){o.public.change_callback&&o.public.change_callback.call(t,e)}))}var r=$(t).attr("m-value")||$(t).attr("value");r==undefined&&(r=""),$(t).attr({"m-value":r,value:r}),$(t).find("input").val(r),o._private._fn._check_null(),$(t).find(".UITextFieldClear").hide(),o._private._events()},_events:function(){var e,n=$(t).find("input");$(t).on("blur","input",function(){$(t).find(".UITextFieldClear").hide()}),$(t).on("focus","input",function(){o._private._fn._check_null()}),$(t).on("tap","input",function(){o._private._fn._check_null()}),$(t).on("input change keyup","input",function(){o._private._fn._check_null();var e=$(t).find("input").val();o.public.change_callback&&o.public.change_callback.call(t,e)}),$(t).on("change","input",function(){$(t).attr("m-type")=="autocomplete"&&setTimeout(function(){$(t).find("input").focus()},200)}),$(t).on("keyup input","input",function(){var e=$(t).find("input").val();if($(t).attr("m-type")=="autocomplete"){if(e==""){$.UIBubble("hide");return}var n={etarget:$(t),width:300,height:300};n.html=['<div m-role="UIScrollView" class="UITextFieldAutoComplete">','<div class="UITextFieldAutoCompleteContent" >','<div class="UITextFieldAutoCompleteLoading" >','<div m-icon="loading"></div>',$.t.UISearchLoading,"</div>","</div>","</div>"].join("");var r=['<div class="UITextFieldAutoCompleteLoading" >','<div m-icon="loading"></div>',$.t.UISearchLoading,"</div>"].join("");$.UIBubble("show",n),$(".UITextFieldAutoCompleteContent").html(r),$(".UITextFieldAutoComplete").UIScrollView();try{$(".UITextFieldAutoComplete").UIScrollView("refresh")}catch(i){}o.public.search_callback&&o.public.search_callback.call(t,e)}}),$(t).on("vmousedown",".UITextFieldClear",function(){n.val(""),$(t).attr({"m-value":"",value:""}),$(this).hide(),n.focus(),o._private._fn._check_null();var e=$(t).find("input").val();return o.public.change_callback&&o.public.change_callback.call(t,e),$.UIBubble("hide"),!1}),$(t).find("input").bind("focus",function(){return o.public.focus_callback&&o.public.focus_callback.call(t),!1}),$(t).find("input").bind("blur",function(){return o.public.blur_callback&&o.public.blur_callback.call(t),!1})},_fn:{_auto_complete:function(e){$(".UITextFieldAutoCompleteContent").html(e),o.public.autoComplete_callback&&o.public.autoComplete_callback.call(t),$(".UITextFieldAutoComplete").UIScrollView("refresh")},_check_null:function(){var e=$(t).find(".UITextFieldClear"),n=$(t).find("input").val();$(t).attr({"m-value":n,value:n}),$(t).find(".UIKeyboardText").html(n),n!=""?e.show():e.hide()}},_html:{_input:function(){return['<input type="'+($(t).attr("m-type")=="password"||$(t).attr("m-type")=="number"?$(t).attr("m-type"):"text")+'" value="'+($(t).attr("m-value")||"")+'" placeholder="'+($(t).attr("m-placeholder")||"")+'"/>','<div class="UITextFieldClear" m-icon="clear"></div>'].join("")},_search_icon:function(){return'<div m-icon="search"></div>'}}},"public":{clear:function(){$(t).find("input").val(""),$(t).attr("m-value",""),$(t).find(".UITextFieldClear").hide(),o._private._fn._check_null(),$(t).find("input[type='text']").show()},change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UITextField")},search:function(){var e=arguments[0];o.public.search_callback=e[1]},autoComplete:function(){var e=arguments[0];o.public.autoComplete_callback=e[2],o._private._fn._auto_complete(e[1]),$(".UITextFieldAutoComplete").UIScrollView("refresh")},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).find("input").val()),n==2&&($(t).find("input").val(e[1]),$(t).attr({"m-value":e[1],value:e[1]}),o._private._fn._check_null(),$(t).find(".UITextFieldClear").hide(),$(t).attr("m-type")=="number"&&$(t).find("input").hide())},blur:function(){var e=arguments[0];o.public.blur_callback=e[1]},focus:function(){var e=arguments[0];o.public.focus_callback=e[1]}}};o._private._init(),delete o.settings.data,$(t).data("UITextField",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UITextField");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UITextarea:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UITextarea")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e);var n=$(t).html();$(t).html(o._private._html._textarea()),$(t).find("textarea").val(n),o._private._fn._check(),$(t).find(".UITextareaClear,.UITextareaMax").hide(),o._private._events()},_events:function(){var e=$(t).find("textarea");$(t).on("blur","textarea",function(){$(t).find(".UITextareaClear,.UITextareaMax").hide()}),$(t).on("focus","textarea",function(){o._private._fn._check()}),$(t).on("input change keyup","textarea",function(){o._private._fn._check()}),$(t).on("vmousedown",".UITextareaClear",function(){return e.val(""),$(this).hide(),e.focus(),o._private._fn._check(),!1})},_fn:{_check:function(){var e=$(t).find(".UITextareaClear"),n=$(t).find(".UITextareaMax"),r=$(t).find("textarea").val();o.public.change_callback&&o.public.change_callback.call(this,r);if(r!=""){var i=$(t).attr("m-max")||200,s=r.length;s<=i?$(t).find(".UITextareaMax").text(i-s):$(t).find("textarea").val(r.substring(0,i)),n.show(),e.show()}else n.hide(),e.hide()}},_html:{_textarea:function(){return['<textarea  placeholder="'+($(t).attr("m-placeholder")||"")+'"></textarea>','<div class="UITextareaClear" m-icon="clear"></div>','<div class="UITextareaMax">'+($(t).attr("m-max")||"")+"</div>"].join("")}}},"public":{clear:function(){$(t).find("textarea").val(""),$(t).find(".UITextareaClear,.UITextareaMax").hide(),o._private._fn._check()},change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UITextarea")},value:function(){var e=arguments[0],n=e.length;n==1&&(o.public.get_value=$(t).find("textarea").val()),n==2&&($(t).find("textarea").val(e[1]),o._private._fn._check(),$(t).find(".UITextareaClear,.UITextareaMax").hide())},blur:function(){$(t).find("textarea").blur()}}};o._private._init(),delete o.settings.data,$(t).data("UITextarea",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UITextarea");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIBottomBar:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIBottomBar")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).wrapInner(o._private._html._room());var n=$(t).find("[m-role='left']").size(),r=$(t).find("[m-role='right']").size();n>0&&r==0&&$(t).find(".UIBottomBarRoom").append(o._private._html._right()),n==0&&r>0&&$(t).find(".UIBottomBarRoom").prepend(o._private._html._left());var i=$(t).find("[m-role='left']"),s=$(t).find("[m-role='right']"),u=i.width(),a=s.width();u>a?s.width(u):i.width(a)},_events:function(){},_html:{_room:function(){return'<div class="UIBottomBarRoom"></div>'},_left:function(){return'<div m-role="left"></div>'},_right:function(){return'<div m-role="right"></div>'}}},"public":{destroy:function(){$(t).removeData("UIBottomBar")}}};o._private._init(),delete o.settings.data,$(t).data("UIBottomBar",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIBottomBar");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UINavigationBar:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UINavigationBar")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).wrapInner(o._private._html._room());var n=$(t).find("[m-role='left']").size(),r=$(t).find("[m-role='right']").size();n>0&&r==0&&$(t).find(".UINavigationBarRoom").append(o._private._html._right()),n==0&&r>0&&$(t).find(".UINavigationBarRoom").prepend(o._private._html._left());var i=$(t).find("[m-role='left']"),s=$(t).find("[m-role='right']"),u=i.width(),a=s.width();u>a?s.width(u):i.width(a)},_events:function(){},_html:{_room:function(){return'<div class="UINavigationBarRoom"></div>'},_left:function(){return'<div m-role="left"></div>'},_right:function(){return'<div m-role="right"></div>'}}},"public":{destroy:function(){$(t).removeData("UINavigationBar")}}};o._private._init(),delete o.settings.data,$(t).data("UINavigationBar",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UINavigationBar");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIToolBar:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIToolBar")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).wrapInner(o._private._html._room());if($(t).attr("m-layout")=="fix"){var n=$(t).find(".UIToolBarRoom");n.addClass("UIToolBarLayoutFixed"),n.css("top",parseInt($(t).attr("m-fix"),10))}},_events:function(){},_html:{_room:function(){return'<div class="UIToolBarRoom"></div>'}}},"public":{change:function(){var e=arguments[0];o.public.change_callback=e[1]},destroy:function(){$(t).removeData("UIToolBar")}}};o._private._init(),delete o.settings.data,$(t).data("UIToolBar",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIToolBar");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UISearchBar:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISearchBar")==undefined){if(typeof e=="string")return;var i=$(t).attr("m-id"),s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e);var n=$(t).find(">[m-role='left']").clone(!0,!0),r=$(t).find(">[m-role='right']").clone(!0,!0);$(t).html(o._private._html._layout()),n.appendTo($(t).find(".UISearchBarLeftRoom")),r.appendTo($(t).find(".UISearchBarRightRoom")),$(t).find("[m-role='UITextField']").UITextField(),$(t).attr("m-button")=="cancel"&&$(t).find(".UISearchBarRight").append(o._private._html._cancel_button()),$("body").append(o._private._html._result()),$(".UISearchBarResult").css("top",parseInt($(t).attr("m-result-top")));if($(t).attr("m-layout")=="fix"){var i=$(t).find(".UISearchBarRoom");i.addClass("UISearchBarLayoutFixed"),i.css("top",parseInt($(t).attr("m-fix"),10))}o._private._events()},_events:function(){function u(e){$(".UISearchBarResult").html("");var t=o.public.dateList_selector;e!=""?o.public.change_callback&&o.public.change_callback.call(this,e):o.public.cancel_callback&&o.public.cancel_callback.call(this)}var e=$(t).find(".UISearchBarRight"),n=$(t).find(".UISearchBarClear"),r=e.outerWidth(),i=$(t).find(".UISearchBarRoom"),s=$(t).find("[m-role='UITextField']");e.css({width:0}),$(t).on("focus.UISearchBar","[m-role='UITextField'] input",function(){if($(".UISearchBarMask").size()>0)return;i.removeClass("UISearchbarLayoutFixed"),$(document).scrollTop(0),e.width(r),$(t).find(".UISearchBarLeftRoom,.UISearchBarRightRoom").hide(),$(t).bind("scrollstart",function(){return!1})}),$(document).on("scrollstart",".UISearchBarMask",function(){return!1}),$(document).on("vmousedown",".UISearchBarMask",function(){return s.UITextField("blur"),!1}),$(t).on("vmousedown",".UISearchBarRight [m-role='UIButton']",function(){return s.find("input").blur(),s.UITextField("blur"),s.UITextField("clear"),o._private._fn._cancel_search(),u(""),!1}),$(document).on("scrollstart",".UISearchBarResult",function(){s.UITextField("blur")}),s.UITextField("change",function(e){return u(e),!1}),$(t).on("blur","[m-role='UITextField'] input",function(){o._private._fn._cancel_search()})},_fn:{_cancel_search:function(){$(t).find(".UISearchBarRoom").addClass("UISearchbarLayoutFixed"),$(".UISearchBarMask").remove(),$(t).find("[m-role='UITextField']").UITextField("value")==""&&$(t).find(".UISearchBarRight").width(0),$(t).unbind("scrollstart"),$(t).find(".UISearchBarLeftRoom,.UISearchBarRightRoom").show()}},_html:{_layout:function(){return[,'<div class="UISearchBarRoom">','<div m-role="cell" class="UISearchBarLeftRoom"> </div>','<div m-role="cell"  m-mode="x" m-layout="fit">','<div m-role="cell" m-layout="fit">','<div  m-role="UITextField" m-type="search" m-layout="fit"  m-placeholder="'+($(t).attr("m-placeholder")||$.t.UISearch)+'"></div>',"</div>",'<div m-role="cell" class="UISearchBarRight" m-align="center" m-valign="middle"></div>',"</div>",'<div m-role="cell" class="UISearchBarRightRoom"> </div>',"</div>"].join("")},_result:function(){return'<div  class="UISearchBarResult"></div>'},_cancel_button:function(){return'<div m-role="UIButton" m-style="style-1" m-size="min">'+$.t.UICancel+"</div>"},_mask:function(){return'<div class="UISearchBarMask"></div>'}}},"public":{dataList:function(){var e=arguments[0];o.public.dateList_selector=e[1]},change:function(){var e=arguments[0];o.public.change_callback=e[1],o.public.cancel_callback=e[2]},destroy:function(){$(t).removeData("UISearchBar")},result:function(){var e=arguments[0]}}};o._private._init(),delete o.settings.data,$(t).data("UISearchBar",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISearchBar");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UITip:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UITip")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),o._private._events(),o.public.show_height=$(t).height(),$(t).hide(),$(t).height(0)},_events:function(){$(t).bind("swipe",function(){o._private._fn._hide()})},_html:{},_fn:{_hide:function(){$(t).stop().animate({height:0},200,function(){$(t).hide()})}}},"public":{show:function(){var e=arguments[0],n=o.public.show_height;e[1]&&$(t).html(e[1]),$(t).show().stop().animate({height:n},200).delay(200).animate({opacity:0},200).animate({opacity:1},200).animate({opacity:0},200).animate({opacity:1},200)},hide:function(){o._private._fn._hide()},destroy:function(){$(t).removeData("UITip")}}};o._private._init(),delete o.settings.data,$(t).data("UITip",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UITip");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UIFontSize:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UIFontSize")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e)},_events:function(){},_html:{}},"public":{up:function(){var e=arguments[0],n=parseInt($(t).css("font-size"),10),r=parseInt(e[1],10);$(t).css("font-size",n+r),e[2]&&e[2].call(this,n+r)},down:function(){var e=arguments[0],n=parseInt($(t).css("font-size"),10),r=parseInt(e[1],10);$(t).css("font-size",n-r),e[2]&&e[2].call(this,n-r)},destroy:function(){$(t).removeData("UIFontSize")}}};o._private._init(),delete o.settings.data,$(t).data("UIFontSize",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UIFontSize");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UITableView:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UITableView")==undefined){if(typeof e=="string")return;var i="",s={},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._init()),$(t).find("dd[m-type='mark']").append(o._private._html._mark()),$(t).find("dd[m-marked='yes']").addClass("UITableViewMarked"),$(t).find("dd[m-type='arrow']").append(o._private._html._arrow()),$(t).find("dd[m-type='arrowbutton']").append(o._private._html._arrow_button()),o._private._events._delete_button(),$(t).attr("m-section"
)=="fix"&&$(t).attr("m-style")!="grouped"&&($(t).append(o._private._html._section_header()),o._private._events._section_header()),$(t).find(".UITableViewInitHtml").remove()},_events:{_delete_button:function(){$(document,t).on("swipe.UITableView","dd[m-edit='delete']",function(){var e=$(this);if($(".UITableViewMask").size()>0)return;e.append(o._private._html._delete_button()),e.append(o._private._html._mask());var n=$(t).find(".UITableViewItemDeleteButton"),r=n.width();n.width(0);var i=e.find(".UITableViewMask"),s=e.find(".UITableViewItemDeleteButton");i.bind("scrollstart swipe",function(){return!1}),$(".UITableViewItemDeleteButton").width(0),s.stop().animate({width:r},300,function(){i.bind("vmousedown.UITableView",function(){return s.stop().animate({width:0},300,function(){i.remove(),s.remove()}),!1})})}),$(t).on("tap",".UITableViewItemDeleteButton",function(){var e=$(this).parent("dd"),t=e.attr("m-id");o.public.swipeDelete_callback&&o.public.swipeDelete_callback.call(this,t)}),$(t).on("tap",".UITableViewArrowButtonWrap",function(){var e=$(this).parent("dd"),t=e.attr("m-id");o.public.arrowButtonTap_callback&&o.public.arrowButtonTap_callback.call(this,t)}),$(t).on("tap",".UITableViewMarkWrap",function(){var e=$(this).parent("dd"),n=e.attr("m-id");return o.public.markLimit_n?e.attr("m-marked")=="yes"?(e.removeAttr("m-marked"),e.removeClass("UITableViewMarked")):$(t).find("[m-marked='yes']").size()==o.public.markLimit_n?o.public.markLimit_callback&&o.public.markLimit_callback.call(this):(e.attr("m-marked","yes"),e.addClass("UITableViewMarked"),o.public.mark_callback&&o.public.mark_callback.call(this,n)):($(t).find("dd").removeAttr("m-marked"),$(t).find("dd").removeClass("UITableViewMarked"),e.attr("m-marked","yes"),e.addClass("UITableViewMarked"),o.public.mark_callback&&o.public.mark_callback.call(this,n)),!1}),$(t).on("tap",".UITableViewCheckWrap",function(){var e=$(this).parent("dd"),t=e.attr("m-id");return e.attr("m-checked")=="yes"?e.removeClass("UITableViewChecked").removeAttr("m-checked"):(e.addClass("UITableViewChecked").attr("m-checked","yes"),o.public.check_callback&&o.public.check_callback.call(this,t)),!1}),$(t).find("[m-role='header']").size()==0&&$(t).attr("m-cache")=="yes"&&($(t).addClass("UITableViewHideItems"),$(t).find("dd").slice(0,o._private._cache._q).addClass("m-show"),o._private._cache._first=$(t).find("dd").index($(t).find("dd.m-show").first())+1,o._private._cache._last=$(t).find("dd").index($(t).find("dd.m-show").last())+1,$.UIPullDown(function(){o._private._cache._down()}),$.UIPullUp(function(){o._private._cache._up()}))},_section_header:function(){var e=$(t).find(".UITableViewSectionHeader"),n=parseInt($(t).attr("m-fix"),10);e.css("top",n).hide();var r=$(t).offset().top;$(document).bind("vmousemove.UITableViewSectionHeader  scroll.UITableViewSectionHeader",function(){if($(t).is(":visible")==0)return;var i=$(this).scrollTop();i<r-n||i>=r+$(t).outerHeight()-n-e.outerHeight()?e.hide():e.show(),$(t).find("[m-role='header']").each(function(){var t=$(this).text(),r=$(this).next("dl"),s=$(this).outerHeight()+r.outerHeight(),o=$(this).offset().top,u=o-n,a=s+o+n;if(i>=u&&i<=a){e.find(".UITableViewSectionHeaderText").html(t);return}})})}},_cache:{_first:0,_last:0,_n:30,_q:60,_up:function(){var e=$(t).find("dd.m-show").size(),n=0,r=o._private._cache._first-o._private._cache._n-1;r<0&&(r=0);var i=$(t).find("dd").slice(r,o._private._cache._first-1);if(i.size()==0)return;$(t).find("dd").slice(r,o._private._cache._first-1).each(function(){n+=$(this).outerHeight(),$(this).addClass("m-show")});var s=$(t).find("dd.m-show").size();$(t).find("dd").slice(o._private._cache._last-(s-e),o._private._cache._last).removeClass("m-show"),$(document).scrollTop($(document).scrollTop()+n),o._private._cache._first=$(t).find("dd").index($(t).find("dd.m-show").first())+1,o._private._cache._last=$(t).find("dd").index($(t).find("dd.m-show").last())+1},_down:function(){var e=$(t).find("dd.m-show").size();$(t).find("dd").slice(o._private._cache._last,o._private._cache._last+o._private._cache._n).addClass("m-show");var n=$(t).find("dd.m-show").size(),r=0,i=$(t).find("dd.m-show").slice(0,n-e);if(i.size()==0)return;i.each(function(){r+=$(this).outerHeight(),$(this).removeClass("m-show")}),$(document).scrollTop($(document).scrollTop()-r),o._private._cache._first=$(t).find("dd").index($(t).find("dd.m-show").first())+1,o._private._cache._last=$(t).find("dd").index($(t).find("dd.m-show").last())+1}},_html:{_init:function(){return'<dl class="UITableViewInitHtml"><dt></dt><dd></dd></dl>'},_delete_button:function(){return'<div class="UITableViewItemDeleteButton"><span  m-role="UIButton" m-style="style-2" m-size="min">'+$.t.UIDelete+"</span></div>"},_mask:function(){return'<div class="UITableViewMask"></div>'},_section_header:function(){return['<div class="UITableViewSectionHeader">','<div class="UITableViewSectionHeaderText"></div>',"</div>"].join("")},_no_data:function(e){return'<div class="UITableViewNoData">'+e+"</div>"},_check:function(){return['<div class="UITableViewCheckWrap">','<div class="UITableViewCheck" m-icon="checkbox"></div>',"</div>"].join("")},_arrow:function(){return'<div class="UITableViewArrow" m-icon="arrow"></div>'},_arrow_button:function(){return['<div class="UITableViewArrowButtonWrap">','<div class="UITableViewArrowButton" m-icon="arrowbutton"></div>',"</div>"].join("")},_mark:function(){return['<div class="UITableViewMarkWrap">','<div class="UITableViewMark" m-icon="mark"></div>',"</div>"].join("")}}},"public":{refresh:function(){$(t).find("dd[m-type]").each(function(){$(this).attr("m-marked")=="yes"&&$(this).addClass("UITableViewMarked"),$(this).attr("m-type")=="mark"&&$(this).find(".UITableViewMarkWrap").size()==0&&$(this).append(o._private._html._mark()),$(this).attr("m-type")=="arrow"&&$(this).find(".UITableViewArrow").size()==0&&$(this).append(o._private._html._arrow()),$(this).attr("m-type")=="arrowbutton"&&$(this).find(".UITableViewArrowButtonWrap").size()==0&&$(this).append(o._private._html._arrow_button())})},addItem:function(){var e=arguments[0];$(t).find(">dl:last-child").append(e[1]),$(t).find("[m-role='header']").size()==0&&$(t).attr("m-cache")=="yes"&&o._private._cache._down()},deleteItem:function(){var e=arguments[0];o.public.swipeDelete_callback=e[1]},check:function(){var e=arguments[0];o.public.check_callback=e[1]},checked:function(){var e=[];$(t).find("[m-checked='yes']").each(function(){e.push($(this).attr("m-id"))}),o.public.get_value=e},mark:function(){var e=arguments[0];o.public.mark_callback=e[1]},markLimit:function(){var e=arguments[0];o.public.markLimit_n=e[1],o.public.markLimit_callback=e[2]},marked:function(){var e=[];$(t).find("[m-marked='yes']").each(function(){e.push($(this).attr("m-id"))}),o.public.get_value=e},arrowButtonTap:function(){var e=arguments[0];o.public.arrowButtonTap_callback=e[1]},noData:function(){var e=arguments[0];$(t).html(o._private._html._no_data(e[1]))},checkState:function(){var e=arguments[0],n=e.length,r=$(t).find("dd[m-type='check']");$(t).find("dd[m-checked='yes']").addClass("UITableViewChecked");if(e[1]=="on"){if(r.find(".UITableViewCheckWrap").size()>0)return;r.append(o._private._html._check()),r.addClass("UITableViewCheckState")}if(e[1]=="off"){r.removeClass("UITableViewCheckState");var i=$(t).find(".UITableViewCheckWrap");i.hide(),r.removeClass("UITableViewChecked").removeAttr("m-checked"),setTimeout(function(){i.remove()},200)}},destroy:function(){$(t).removeData("UITableView")}}};o._private._init(),delete o.settings.data,$(t).data("UITableView",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UITableView");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i},UISegment:function(e,t){var n=arguments,r,i=this.each(function(){var t=this;if($(t).data("UISegment")==undefined){if(typeof e=="string")return;$(t).attr("m-id")==undefined&&$(t).attr("m-id","mid_"+$.getRandom());var i=$(t).attr("m-id"),s={hidden_input:"[m-role='UISegment'][m-id='"+i+"'] input[type='hidden']",tabs_container:"[m-role='UISegment'][m-id='"+i+"']",contents:"[m-for='"+i+"']",tabs:"[m-role='UISegment'][m-id='"+i+"'] li"},o={settings:{data:{}},_private:{_init:function(){$.extend(o.settings,e),$(t).append(o._private._html._hidden_input()),$(s.hidden_input).attr("name",$(t).attr("name")),o._private._active(),o._private._events()},_events:function(){$(s.tabs_container).on("tap.UISegment","[m-id]",function(){var e=$(s.tabs_container).find("[m-active='yes']").attr("m-id");$(s.tabs).removeAttr("m-active"),$(this).attr("m-active","yes"),$(s.hidden_input).val($(this).attr("m-value")),o._private._active();var t=$(s.tabs_container).find("[m-active='yes']").attr("m-id");return e!=t&&o.public.change_callback&&o.public.change_callback.call(this,t),!1})},_active:function(){var e=$(s.tabs_container).find("[m-active='yes']");if(e.size()==0){var n=$(s.tabs).eq(0);n.attr("m-active","yes"),e=n}var r=e.attr("m-value");$(s.hidden_input).val(r),$(t).attr({value:r,"m-value":r});var i=e.attr("m-id");$(s.contents).hide(),$(s.contents+"[m-id='"+i+"']").show()},_html:{_hidden_input:function(){return'<input class="UISegmentHiddenInput" type="hidden" value="" />'}}},"public":{active:function(){var e=arguments[0];$(s.tabs).removeAttr("m-active"),$(t).find("[m-id='"+e[1]+"']").attr("m-active","yes"),o._private._active()},change:function(){var e=arguments[0];o.public.change_callback=e[1]},refresh:function(){o._private._active()},destroy:function(){$(t).removeData("UISegment")}}};o._private._init(),delete o.settings.data,$(t).data("UISegment",o)}else{if(typeof n[0]!="string")return;var o=$(t).data("UISegment");o.public[n[0]](n),r=o.public.get_value,o=undefined}});return r!=undefined&&(i=r),i}})